(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function i(t,n){for(var c=0;c<n.length;c++){var i=n[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(s=i.key,o=void 0,o=function(t,n){if("object"!==e(t)||null===t)return t;var c=t[Symbol.toPrimitive];if(void 0!==c){var i=c.call(t,n||"default");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(s,"string"),"symbol"===e(o)?o:String(o)),i)}var s,o}var s=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.select?(this.select=document.querySelector("#".concat(t.select)),this.isMulti=this.select.multiple,this.select?(this.idSelect="c-select".concat(this.uniqueID()),this.options=this.select.querySelectorAll("option"),this.createHTML(),this.createOptionList(),this.firstOptionItem=document.querySelector("#".concat(this.idSelect," .c-select__dropdown-item:first-of-type")),this.selectOptions=document.querySelectorAll("#".concat(this.idSelect," option")),this.setEventListeners(t),this.filterOptionItems(),this.input=document.querySelector("#".concat(this.idSelect," .c-select__input")),this.selectedDiv=document.querySelector("#".concat(this.idSelect," .c-select__selected")),this.inputDiv=document.querySelector("#".concat(this.idSelect," .c-select__input-div")),this.arrowIcon=document.querySelector("#".concat(this.idSelect," .c-select__arrow-icon")),this.dropdown=document.querySelector("#".concat(this.idSelect," .c-select__dropdown")),this.SPACEBAR_KEY_CODE=32,this.ENTER_KEY_CODE=13,this.UP_KEY_CODE=38,this.DOWN_KEY_CODE=40,void(this.dropdownItems=document.querySelectorAll("#".concat(this.idSelect," .c-select__dropdown-item")))):console.log("select element with id '".concat(t.select,"' not found"))):console.log("provide id of select element")}var c,s,o;return c=e,(s=[{key:"uniqueID",value:function(){return Math.floor(Math.random()*Date.now()).toString()}},{key:"getSelectedItems",value:function(){return document.querySelectorAll("#".concat(this.idSelect," .c-select__selected-div"))}},{key:"removeElem",value:function(e){e&&e.remove()}},{key:"createOptionList",value:function(){for(var e=1;e<this.options.length;e++){var t=document.createElement("li"),n=document.querySelector("#".concat(this.idSelect," .c-select__dropdown"));t.classList.add("c-select__dropdown-item"),t.textContent=this.options[e].value,t.tabIndex="0",n.appendChild(t)}}},{key:"setEventListeners",value:function(){var e=this;document.querySelector("#".concat(this.idSelect," .c-select__option-list")).addEventListener("click",(function(t){return e.handleClick(t)})),document.querySelector("body").addEventListener("click",(function(t){return e.handleOutsideClick(t)})),document.querySelectorAll("#".concat(this.idSelect," .c-select__dropdown-item")).forEach((function(t){return t.addEventListener("keydown",(function(t){return e.handleKeyboard(t)}))})),document.querySelectorAll(".c-select__dropdown-item").forEach((function(e){e.addEventListener("focus",(function(e){return e.target.focus()}))}))}},{key:"handleClick",value:function(e){var t=this,n=document.querySelectorAll(".c-select__option-list .active");(e.target.classList.contains("c-select__selected")||e.target.classList.contains("c-select__arrow")||e.target.classList.contains("c-select__arrow-icon"))&&(this.input.value="",this.input.dispatchEvent(new Event("input")),this.selectedDiv.classList.toggle("active"),this.inputDiv.classList.toggle("active"),this.arrowIcon.classList.toggle("active"),this.dropdown.classList.toggle("active"),n.length>=4&&n.forEach((function(e){e.dataset.id!==t.idSelect&&e.classList.toggle("active")}))),e.target.classList.contains("c-select__dropdown-item")&&this.handleOptionItemsClick(e,this.selectedDiv),(e.currentTarget.classList.contains("c-select__selected-remove")||e.currentTarget.classList.contains("c-select__selected-remove_single"))&&this.handleSelectedClick(e,this.selectOptions)}},{key:"handleSelectedClick",value:function(e,n){var c=this,i=this.isMulti?e.currentTarget.previousSibling.textContent:this.getSelectedItems()[0].textContent,s=this.isMulti?e.currentTarget.parentElement:this.getSelectedItems()[0],o=document.querySelector("#".concat(this.idSelect," .c-select__selected-remove_single"));o&&o.classList.add("scale-down"),s.classList.add("scale-down"),setInterval((function(){c.removeElem(s),!c.isMulti&&c.removeElem(o)}),280);var r=document.querySelectorAll(".c-select__dropdown-item_selected");t(n).find((function(e){return e.value===i})).selected=!1,t(r).find((function(e){return e.textContent===s.textContent})).classList.remove("c-select__dropdown-item_selected")}},{key:"handleOptionItemsClick",value:function(e,t){if(e.target!==this.firstOptionItem){var n=[],c=t.querySelectorAll(".c-select__selected-div");c.forEach((function(e){return n.push(e.textContent)})),!n.includes(e.target.textContent)&&this.addToSelected(e,this.selectOptions,t,c),e.target.classList.add("c-select__dropdown-item_selected")}}},{key:"addToSelected",value:function(e,n,c,i){var s=this;!this.isMulti&&i.length>0&&this.handleSingleSelect(i),t(n).find((function(t){return t.value===e.target.textContent})).selected=!0;var o=document.createElement("div"),r=document.createElement("p");o.classList.add("c-select__selected-div"),r.classList.add("c-select__selected-p"),r.textContent=e.target.textContent,o.appendChild(r);var l=document.createElement("button");l.addEventListener("click",(function(e){return s.handleClick(e)})),this.isMulti?(l.classList.add("c-select__selected-remove"),l.innerHTML='<svg viewBox="-2 3 24 24" fill="none"><path d="M19 5L5 19M5.00001 5L19 19"\n            stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',o.appendChild(l)):(this.removeElem(document.querySelector("#".concat(this.idSelect," .c-select__selected-remove_single"))),l.classList.add("c-select__selected-remove_single"),l.innerHTML='<svg viewBox="0 2 24 24" fill="none"><path d="M19 5L5 19M5.00001 5L19 19"\n            stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',this.selectedDiv.appendChild(l)),c.appendChild(o)}},{key:"handleSingleSelect",value:function(e){document.querySelector(".c-select__dropdown-item_selected").classList.remove("c-select__dropdown-item_selected"),this.removeElem(e[0])}},{key:"handleOutsideClick",value:function(e){var t=document.querySelector("#".concat(this.idSelect," .c-select__selected")),n=document.querySelector("#".concat(this.idSelect," .c-select__input-div")),c=document.querySelector("#".concat(this.idSelect," .c-select__arrow-icon"));t.classList.contains("active")&&this.isClickedOutside(e)&&(t.classList.remove("active"),n.classList.remove("active"),c.classList.remove("active"),this.dropdown.classList.remove("active"))}},{key:"isClickedOutside",value:function(e){var t=this;return this.isOutside=!0,["c-select__selected","c-select__input-div","c-select__input","c-select__dropdown-item","c-select__dropdown","c-select__arrow","c-select__arrow-icon","c-select__selected-div","c-select__selected-p","c-select__selected-remove"].forEach((function(n){return e.target.classList.contains(n)?t.isOutside=!1:void 0})),this.isOutside}},{key:"handleKeyboard",value:function(e){var t=this;e.target.classList.contains("c-select__dropdown-item")&&((e.keyCode===this.ENTER_KEY_CODE||e.keyCode===this.SPACEBAR_KEY_CODE)&&this.handleClick(e),e.keyCode===this.UP_KEY_CODE&&this.dropdownItems.forEach((function(n,c){n===e.target&&(c>1?t.dropdownItems[c-1].dispatchEvent(new Event("focus")):t.dropdownItems[t.dropdownItems.length-1].dispatchEvent(new Event("focus")))})),e.keyCode===this.DOWN_KEY_CODE&&this.dropdownItems.forEach((function(n,c){n===e.target&&(c<t.dropdownItems.length-1?t.dropdownItems[c+1].dispatchEvent(new Event("focus")):t.dropdownItems[1].dispatchEvent(new Event("focus")))})))}},{key:"filterOptionItems",value:function(){var e=this;document.querySelector("#".concat(this.idSelect," .c-select__input")).addEventListener("input",(function(n){e.dropdownItems.forEach((function(e,t){e.textContent.toLowerCase().includes(n.target.value.toLowerCase())||0===t?e.classList.remove("isHidden"):e.classList.add("isHidden")})),t(e.dropdownItems).filter((function(e){return e.classList.contains("isHidden")})).length===e.dropdownItems.length-1?e.firstOptionItem.textContent="no results":e.firstOptionItem.textContent=""}))}},{key:"createHTML",value:function(){var e="c-select",t="c-select__option-list",n="c-select__selected",c="c-select__input-div",i="c-select__input",s="c-select__dropdown",o="c-select__dropdown-item",r="c-select__arrow",l=this.createElement("input",i,[["type","text"]]),d=this.createElement("ul",s,[["data-id",this.idSelect]]),a=this.createElement("li",o);d.appendChild(a);var u=this.createElement("div",e);u.style.width="".concat(this.select.offsetWidth,"px"),this.select.parentNode.insertBefore(u,this.select),u.appendChild(this.select),this.select.classList.add("select-hidden");var h=u;h.id=this.idSelect,u=this.createElement("div",t),h.appendChild(u);var v=h.querySelector(".".concat(t));u=this.createElement("div",n,[["data-id",this.idSelect]]),!this.isMulti&&u.classList.add("c-select__selected_single"),v.appendChild(u);var p=v.querySelector(".".concat(n));(u=this.createElement("div",r)).innerHTML='<svg width="14px" height="14px" viewBox="0 0 1024 1024" class="c-select__arrow-icon" \n        data-id = '.concat(this.idSelect,'><path d="M903.232 256l56.768 50.432L512 768 64 306.432 120.768 256 512 659.072z"\n        fill="#000000" /></svg>'),p.appendChild(u),u=this.createElement("div",c,[["data-id",this.idSelect]]),v.appendChild(u);var m=v.querySelector(".".concat(c));m.appendChild(l),m.appendChild(d)}},{key:"createElement",value:function(e,t,c){var i=document.createElement(e);if(t&&(i.className=t),!c)return i;var s,o=function(e,t){var c="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!c){if(Array.isArray(e)||(c=n(e))||t&&e&&"number"==typeof e.length){c&&(e=c);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){c=c.call(e)},n:function(){var e=c.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==c.return||c.return()}finally{if(l)throw o}}}}(c);try{for(o.s();!(s=o.n()).done;){var r=s.value;i.setAttribute(r[0],r[1])}}catch(e){o.e(e)}finally{o.f()}return i}}])&&i(c.prototype,s),o&&i(c,o),Object.defineProperty(c,"prototype",{writable:!1}),e}();new s({select:"select1"}),new s({select:"select2"})})();